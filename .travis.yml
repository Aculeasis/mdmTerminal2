language:
  python

matrix:
  include:
  - python: '3.5'
  - python: '3.6'

sudo:
  true

git:
  depth: 1

before_install:
  - sudo apt-get update -y
  - sed 's/#.*//; s/python.*//;' Requirements/system-requirements.txt | sed 's/python-.*//' | xargs sudo apt-get install -y

install:
  - pip install --upgrade pip setuptools wheel
  - pip install -r Requirements/pip-requirements.txt

before_script:
  - chmod +x scripts/snowboy_build.sh
  - ./scripts/snowboy_build.sh

script:
  - python -u src/tests.py
